<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Koncle</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://koncle.github.io/"/>
  <updated>2019-01-04T05:47:06.074Z</updated>
  <id>http://koncle.github.io/</id>
  
  <author>
    <name>Koncle</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>My First Blog</title>
    <link href="http://koncle.github.io/2019/01/03/example/"/>
    <id>http://koncle.github.io/2019/01/03/example/</id>
    <published>2019-01-03T09:00:03.000Z</published>
    <updated>2019-01-04T05:47:06.074Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/2019/01/03/example/img.png" alt="img"></p><a id="more"></a><h1 id="Hello-My-first-blog"><a href="#Hello-My-first-blog" class="headerlink" title="Hello, My first blog"></a>Hello, My first blog</h1><p>找分布式系统复习资料的时候无意中发现了这个 Next 主题，哇，当时真的被惊艳到了，之前看到的各种奇怪的主题都花花绿绿，一点也没有高大上的感觉，而这种 Material Design 的主题真的深得我心，这才是我想要的主题，遂在考完试之后乘着闲暇(无心学习)之余，重新搭建一下自己的小博客，也准备以后看的论文什么的能够总结一下，发出来，也算是对自己知识的一个整理吧。</p><h2 id="Math-test"><a href="#Math-test" class="headerlink" title="Math test"></a>Math test</h2><p>测试一下行内Math，$E = mc^2$</p><p>然而一开始多行的MathJs显示出来的效果是这样的：</p><p>$$\begin{aligned}<br>E &amp;= mc^2 \ \<br>a &amp;= \int_{-1}^{1}x^2<br>\end{aligned}$$</p><p>源代码:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$$\begin&#123;aligned&#125;</span><br><span class="line">E &amp;= mc^2 \\ </span><br><span class="line">a &amp;= \int_&#123;-1&#125;^&#123;1&#125;x^2</span><br><span class="line">\end&#123;aligned&#125;$$</span><br></pre></td></tr></table></figure><p>查了下资料，原因是markdown将<code>\\</code>转义成了<code>\</code>，有三种可行的解决方案：</p><ol><li>直接输入 <code>\\\\</code></li><li>更换 pandoc 或 kmarked 引擎</li><li>修改 marked 引擎</li></ol><p>由于之前写 markdown 基本不会用到反斜杠，因此采用修改引擎的方法，在 <code>nodes_modules/marked/lib/marked.js</code> 中，修改：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这个</span></span><br><span class="line"><span class="built_in">escape</span>: <span class="regexp">/^\\([\\`*&#123;&#125;\[\]()#+\-.!_&gt;])/</span>,</span><br><span class="line"><span class="comment">// 改为</span></span><br><span class="line"><span class="built_in">escape</span>: <span class="regexp">/^\\([`*&#123;&#125;\[\]()# +\-.!_&gt;])/</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">// 这个 </span></span><br><span class="line">em: <span class="regexp">/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/</span>,</span><br><span class="line"><span class="comment">//改为</span></span><br><span class="line">em:<span class="regexp">/^\*((?:\*\*|[\s\S])+?)\*(?!\*)/</span>,</span><br></pre></td></tr></table></figure><p>改完之后的效果：</p><p>$$\begin{aligned}<br>E &amp;= mc^2 \\<br>a &amp;= \int_{-1}^{1}x^2<br>\end{aligned}<br>$$</p><h2 id="Comment"><a href="#Comment" class="headerlink" title="Comment"></a>Comment</h2><p>gitment好坑啊啊啊啊。一会 Error: Not Found, 换成 koncle.github.io 的repo，又登录不上去，心累。</p><p><del>所以暂时就不做了吧。</del></p><p>最后用了gitalk，和gitment类似的评论插件，gitalk还是很方便啊，至少没有奇奇怪怪的问题。</p><h2 id="some-pits"><a href="#some-pits" class="headerlink" title="some pits"></a>some pits</h2><h3 id="Next主题支持"><a href="#Next主题支持" class="headerlink" title="Next主题支持"></a>Next主题支持</h3><p>next主题内的 <code>_config.yml</code> 内已经整合了很多的插件了，如pace,gitment等等，所以很多只需要在里面 <code>true</code>, <code>false</code> 一下就完事了。</p><h3 id="进度条-Processing-bar"><a href="#进度条-Processing-bar" class="headerlink" title="进度条(Processing bar)"></a>进度条(Processing bar)</h3><p>根据参考的博客加了进度条，但是之后会一直留在那里很难受，看了加的js是<code>pace.js</code>，其有 <code>done</code> 事件，因此绑定一下该事件以在加载完成后隐藏进度条，在 <code>themes\next\layout\_partials\head\custom-head.swig</code>内加入以下代码：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">Pace.on(<span class="string">'done'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  $(<span class="string">'.headband'</span>).hide()</span><br><span class="line">&#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><h3 id="使用-tags-和-categories"><a href="#使用-tags-和-categories" class="headerlink" title="使用 tags 和 categories"></a>使用 tags 和 categories</h3><p>添加tags和categories时，需要使用如下命令:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new page tags</span><br></pre></td></tr></table></figure><p>然后添加 <code>type: tags</code>，对categories同样如此。</p><h3 id="文件压缩"><a href="#文件压缩" class="headerlink" title="文件压缩"></a>文件压缩</h3><p>使用 <code>gulp</code> 进行文件的压缩，但是最新版的 <code>gulp4</code> 换了接口，需要把修改原来的代码，使用 <code>gulp.series()</code> ，例：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">'minify-css'</span>, gulp.series(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src(<span class="string">'./public/**/*.css'</span>)</span><br><span class="line">        .pipe(minifycss())</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'./public'</span>));</span><br><span class="line">&#125;));</span><br></pre></td></tr></table></figure><h3 id="live2d"><a href="#live2d" class="headerlink" title="live2d"></a>live2d</h3><p><code>live2d</code> 的配置需要在根目录下的 <code>_config.yml</code> 文件里配置，而不是主题文件。<br><a href="https://huaji8.top/post/live2d-plugin-2.0/" target="_blank" rel="noopener">附每个model的图片</a></p><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ol><li><p><a href="https://thief.one/2017/03/03/Hexo%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E6%95%99%E7%A8%8B/" target="_blank" rel="noopener">Hexo搭建博客</a></p></li><li><p><a href="https://www.lizhechen.com/2017/03/08/Hexo%E4%B8%8EMathjax%E7%9A%84%E5%86%B2%E7%AA%81%E5%8F%8A%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89%E8%A7%A3%E5%86%B3/" target="_blank" rel="noopener">MathJs与Markdown冲突解决方案</a></p></li><li><p><a href="https://asdfv1929.github.io/2018/01/20/gitalk/" target="_blank" rel="noopener">使用Gitalk评论</a></p></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/2019/01/03/example/img.png&quot; alt=&quot;img&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="test" scheme="http://koncle.github.io/tags/test/"/>
    
  </entry>
  
</feed>
